@page
@model BMS.Web.Pages.Books.BooksModel
@{
    ViewData["Title"] = "My Books";

    var sort = Request.Query["sort"].ToString();
    var dir  = Request.Query["dir"].ToString();

    string NextDir(string field)
    {
        if (sort == field && dir == "asc")
            return "desc";

        return "asc";
    }

    string SortIcon(string field)
    {
        if (sort != field) return "";

        return dir == "asc" ? "↑" : "↓";
    }
}
<h1>@ViewData["Title"]</h1>
<p class="lead">@Model.Books.Count() books found</p>
<div class="btn-group mb-3">
<a asp-route-sort="title"
   asp-route-dir="@NextDir("title")"
   class="btn btn-sm @(sort == "title" ? "btn-primary" : "btn-outline-primary")">
   Title @SortIcon("title")
</a>

<a asp-route-sort="date"
   asp-route-dir="@NextDir("date")"
   class="btn btn-sm @(sort == "date" ? "btn-primary" : "btn-outline-primary")">
   Date @SortIcon("date")
</a>
</div>


<div class="row">
    @foreach (var book in Model.Books)
    {
        <div class="col col-md-6 col-lg-4 mb-3">
            <div class="card border-primary h-100">
                <div class="card-body">
                    <h5 class="card-title">@book.FileName</h5>
                    <h6 class="card-subtitle mb-2 text-body-secondary">@book.DirectoryPath</h6>
                    <p class="card-text">Lorem ipsum dolor, sit amet consectetur adipisicing elit.</p>
                    <a href="Books/Details?id=@book.Id" class="btn btn-primary">Read</a>
                </div>
            </div>
        </div>
    }
</div>