@page
@model BMS.Web.Pages.Books.BooksModel
@{
    ViewData["Title"] = "My Books";

    var sort = Request.Query["sort"].ToString();
    var dir  = Request.Query["dir"].ToString();

    string NextDir(string field)
    {
        if (sort == field && dir == "asc")
            return "desc";

        return "asc";
    }

    string SortIcon(string field)
    {
        if (sort != field) return "";

        return dir == "asc" ? "↑" : "↓";
    }
}
<h1>@ViewData["Title"]</h1>
<p class="lead">@Model.Books.Count() books found</p>
<div class="btn-group mb-3">
<a asp-route-sort="title"
   asp-route-dir="@NextDir("title")"
   class="btn btn-sm @(sort == "title" ? "btn-primary" : "btn-outline-primary")">
   Title @SortIcon("title")
</a>

<a asp-route-sort="date"
   asp-route-dir="@NextDir("date")"
   class="btn btn-sm @(sort == "date" ? "btn-primary" : "btn-outline-primary")">
   Last Modified @SortIcon("date")
</a>
</div>
<table class="table border-primary">
    <thead class="table-dark">
    <tr>
        <th scope="col">File Name</th>
        <th scope="col">Location</th>
        <th scope="col">Action</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var book in Model.Books)
    {
        <tr>
            <th scope="row">@book.FileName</th>
            <td>@book.DirectoryPath</td>
            <td>
                <div class="btn-group">
                    <a asp-page="/Books/Details" asp-route-id="@book.Id" class="btn btn-primary">Read</a>
                    <a asp-page="/Books/Delete" asp-route-id="@book.Id" class="btn btn-outline-danger">Delete</a>
                </div>
            </td>
        </tr>
    }
    </tbody>
</table>